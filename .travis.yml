# sudo: true # need this for libgirepository1.0-dev


# before_install:
#   - gem update --system
#   - gem install bundler

jobs:
  include:
    - os: windows
      language: bash
      # install:
        # - choco install mingw
        # - choco install msys2
        # - ridk.cmd exec pacman -S --noconfirm --needed base-devel mingw-w64-x86_64-toolchain
      script: bundle exec rake
    - os: linux
      language: ruby
      rvm: 2.4.2
      script: bundle exec rake
      addons:
        apt:
          packages:
            - libgirepository1.0-dev # for gobject-introspection
    - os: linux
      language: ruby
      rvm: 2.5.3
      script: bundle exec rake
      addons:
        apt:
          packages:
            - libgirepository1.0-dev # for gobject-introspection
    - os: linux
      language: ruby
      rvm: 2.6.5
      script: bundle exec rake
      addons:
        apt:
          packages:
            - libgirepository1.0-dev # for gobject-introspection
    - os: linux
      language: ruby
      rvm: ruby-head
      allow_failures: true
      script: bundle exec rake
      addons:
        apt:
          packages:
            - libgirepository1.0-dev # for gobject-introspection
